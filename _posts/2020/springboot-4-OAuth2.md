---
title: (SpringBoot) μ¤ν”„λ§λ¶€νΈ μ‹νλ¦¬ν‹°(OAuth2)
date: 2021-05-09
tags: [SpringBoot]
excerpt: 
---


<br/>
<br/>
<br/>


# π€ μ¤ν”„λ§λ¶€νΈ μ‹νλ¦¬ν‹°

μ¤ν”„λ§λ¶€νΈ ν”„λ μ„μ›ν¬λ” μΈμ¦κ³Ό κ¶ν• κΈ°λ¥μΈ μ¤ν”„λ§λ¶€νΈ μ‹νλ¦¬ν‹°λ¥Ό μ κ³µ. μΈμ¦κ³Ό κ¶ν• μ²λ¦¬λ¥Ό νΈλ¦¬ν•κ² κ΄€λ¦¬ν•  μ μλ‹¤.

<br/>

* ```μΈμ¦``` : μ‚¬μ©μ(ν΄λΌμ΄μ–ΈνΈ)κ°€ νΉμ • λ™μ‘μ— κ΄€ν•μ—¬ μΈμ¦λ μ‚¬μ©μμΈμ§€ ν™•μΈν•λ” μ νƒ€. κ°„λ‹¨ν•κ² λ΅κ·ΈμΈκΈ°λ¥μ΄λΌκ³  λ³΄λ©΄ λλ‹¤. 
* ```κ¶ν• λ¶€μ—¬``` : λ°μ΄ν„°λ‚ ν”„λ΅κ·Έλ¨ λ“±μ νΉμ • μμ›μ΄λ‚ μ„λΉ„μ¤μ— μ ‘κ·Όν•  μ μλ” κ¶ν•μ„ ν—μ©ν•λ” κ²ƒ. 

<br/>

μΈμ¦λ°©μ‹μ—λ” μ „ν†µμ μΈ μΈμ¦λ°©μ‹μΈ 'ν¬λ¦¬λ΄μ… κΈ°λ° μΈμ¦λ°©μ‹(μ‚¬μ©μλ…κ³Ό λΉ„λ°€λ²νΈλ΅ μΈμ¦)'κ³Ό OTPμ™€ κ°™μ€ '2μ¤‘ μΈμ¦ λ°©μ‹' λ“±μ΄ μλ‹¤. κ·Έ μ¤‘μ—μ„ μ†μ…λ―Έλ””μ–΄λ¥Ό μ‚¬μ©ν•΄ μΈμ¦ν•λ” λ°©μ‹μΈ **'OAuth2 μΈμ¦λ°©μ‹'** μ— λ€ν•΄ μ•μ•„λ³΄μ

<br/>
<br/>
<br/>

# π€ OAuth2

<br/>

OAuth2 λ” OAuth ν”„λ΅ν† μ½μ λ²„μ „2 μ΄λ‹¤. μ„λ“νν‹°λ¥Ό μ„ν• λ²”μ©μ μΈ μΈμ¦ ν‘μ¤€. 

λ‹¤μμ€ OAuth2μ—μ„ μ κ³µν•λ” μΉμΈνƒ€μ…μ΄λ‹¤. 

* **```κ¶ν• λ¶€μ—¬ μ½”λ“ μΉμΈ νƒ€μ…(Authorization Code Grant Type)```** : ν΄λΌμ΄μ–ΈνΈκ°€ λ‹¤λ¥Έ μ‚¬μ©μ λ€μ‹  νΉμ • λ¦¬μ†μ¤μ— μ ‘κ·Όμ„ μ”μ²­ν•  λ• μ‚¬μ©λλ‹¤. λ¦¬μ†μ¤ μ ‘κ·Όμ„ μ„ν• μ‚¬μ©μλ…κ³Ό λΉ„λ°€λ²νΈ, κ¶ν•μ„λ²„μ— μ”μ²­ν•΄μ„ λ°›μ€ κ¶ν•μ½”λ“λ¥Ό ν•¨κ» ν™μ©ν•μ—¬ λ¦¬μ†μ¤μ— λ€ν• μ•΅μ„Έμ¤ ν† ν°μ„ λ°›μΌλ©΄ μ΄λ¥Ό μΈμ¦μ— μ΄μ©ν•λ” λ°©μ‹.
* **```μ„μ‹μ  μΉμΈ νƒ€μ…(Implicit Grant Type)```** : κ¶ν• μ½”λ“ κµν™ λ‹¨κ³„ μ—†μ΄ μ•΅μ„Έμ¤ ν† ν°μ„ μ¦‰μ‹ λ°ν™λ°›λ” λ°©μ‹ 
* **```λ¦¬μ†μ¤ μ†μ μ μ•”νΈ μκ²© μΉμΈ νƒ€μ…(Resource Owner Password Credentials Grant Type)```** : ν΄λΌμ΄μ–ΈνΈκ°€ μ•”νΈλ¥Ό μ‚¬μ©ν•μ—¬ μ•΅μ„Έμ¤ ν† ν°μ— λ€ν• μ‚¬μ©μμ μκ²© μ¦λ…μ„ κµν™ν•λ” λ°©μ‹ 
* **```ν΄λΌμ΄μ–ΈνΈ μκ²© μ¦λ… μΉμΈ νƒ€μ…(Client Credentials Grant Type)```** : ν΄λΌμ΄μ–ΈνΈκ°€ μ»¨ν…μ¤νΈ μ™Έλ¶€μ—μ„ μ•΅μ„Έμ¤ ν† ν°μ„ μ–»μ–΄ νΉμ • λ¦¬μ†μ¤μ— μ ‘κ·Όμ„ μ”μ²­ν•  λ• μ‚¬μ©ν•λ” λ°©μ‹

<br/>
<br/>

μ΄ μ¤‘μ— 'κ¶ν• λ¶€μ—¬ μ½”λ“ μΉμΈ νƒ€μ…'μ΄ νμ΄μ¤λ¶, κµ¬κΈ€, μΉ΄μΉ΄μ¤ λ“±μ μ†μ… λ―Έλ””μ–΄λ“¤μ΄ μ›Ή μ„λ²„ ν•νƒμ ν΄λΌμ΄μ–ΈνΈλ¥Ό μ§€μ›ν•λ”λ° μ΄ λ°©μ‹μ„ μ‚¬μ©ν•λ‹¤. 

μ΄λ” μ¥κΈ° μ•΅μ„Έμ¤ ν† ν°(long-lived access token)μ„ μ‚¬μ©ν•μ—¬ μ‚¬μ©μ μΈμ¦μ„ μ²λ¦¬ν•λ‹¤. 

<br/>

λ‹¤μμ€ κ¶ν• λ¶€μ—¬ μΉμΈνƒ€μ…μ νλ¦„μ„ μμ„λ€λ΅ μ •λ¦¬ν•΄λ³΄μ
 > 1. ν΄λΌμ΄μ–ΈνΈκ°€ νλΌλ―Έν„°λ΅ ```ν΄λΌμ΄μ–ΈνΈ ID, λ¦¬λ‹¤μ΄λ ‰νΈ URL,μ‘λ‹µ νƒ€μ…``` μ„ codeλ΅ μ§€μ •ν•μ—¬ κ¶ν• μ„λ²„μ— μ „λ‹¬ν•λ‹¤. μ •μƒμ μΌλ΅ μΈμ¦μ΄ μ™„λ£λλ©΄ κ¶ν•λ¶€μ—¬μ½”λ“λ¥Ό ν΄λΌμ΄μ–ΈνΈλ΅ μ „μ†΅ν•λ‹¤. μ΄ λ• μ‘λ‹µ νƒ€μ…μ΄ token μΌ λ• μ•”μ‹μ  μΉμΈ νƒ€μ…μ— ν•΄λ‹Ήν•λ‹¤. 
 > 2. κ¶ν•λ¶€μ—¬μ½”λ“λ¥Ό λ°›μ€ ν΄λΌμ΄μ–ΈνΈλ” κ¶ν• λ¶€μ—¬ μ½”λ“λ¥Ό μ‚¬μ©ν•μ—¬ μ•΅μ„Έμ¤ ν† ν°(access token)μ„ κ¶ν• μ„λ²„μ— μ¶”κ°€λ΅ μ”μ²­ν•λ‹¤. μ΄λ• ν•„μ”ν• νλΌλ―Έν„°λ” ```ν΄λΌμ΄μ–ΈνΈ ID(clien-id), ν΄λΌμ΄μ–ΈνΈ λΉ„λ°€λ²νΈ(client-secret), λ¦¬λ‹¤μ΄λ ‰νΈ URL,μΈμ¦ νƒ€μ…``` μ΄λ‹¤. 
 > 3. μ‘λ‹µλ°›μ€ μ•΅μ„Έμ¤ ν† ν°μ„ μ‚¬μ©ν•μ—¬ λ¦¬μ†μ¤ μ„λ²„μ— μ‚¬μ©μμ λ°μ΄ν„°λ¥Ό μ”μ²­ν•λ‹¤. 

<br/>
<br/>


μ‚¬μ©μλ…κ³Ό λΉ„λ°€λ²νΈλ΅ μΈμ¦ν•λ” λ°©μ‹μ€ μµμ† ν•λ²μ μ”μ²­λ§ ν•λ©΄ λμ§€λ§, OAuth2 λ°©μ‹μ€ μµμ† μ„Έ λ²μ„ μ”μ²­ν•κ² λλ‹¤. ν•μ§€λ§ OAuth2λ” νμ›κ°€μ… μ—†μ΄ μ†μ…λ―Έλ””μ–΄ κ³„μ •μ„ ν†µν•΄ μΈμ¦ν•κΈ° λ•λ¬Έμ— μ‚¬μ©μμ…μ¥μ—μ„λ” λ”μ± νΈλ¦¬ν• λ΅κ·ΈμΈ κΈ°λ¥μ„ κµ¬ν„ν•  μ μλ‹¤. λν• νμ›κ°€μ… κΈ°λ¥μ„ μ¶•μ†μ‹ν‚¤κ³  μ†μ…μ—μ„ μ κ³µν•λ” User μ •λ³΄λ¥Ό κ°€μ Έμ¬ μ μμ. 


<br/>
<br/>
<br/>

---
references

- μ²μ λ°°μ°λ” μ¤ν”„λ§λ¶€νΈ - ν•λΉ›λ―Έλ””μ–΄